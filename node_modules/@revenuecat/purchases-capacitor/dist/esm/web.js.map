{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\n\nimport { WebPlugin } from '@capacitor/core';\nimport type {\n  BILLING_FEATURE,\n  CustomerInfo,\n  CustomerInfoUpdateListener,\n  IN_APP_MESSAGE_TYPE,\n  IntroEligibility,\n  LOG_LEVEL,\n  LogHandler,\n  LogInResult,\n  MakePurchaseResult,\n  PurchasesConfiguration,\n  PurchasesEntitlementInfo,\n  PurchasesOffering,\n  PurchasesOfferings,\n  PurchasesPromotionalOffer,\n  PurchasesStoreProduct,\n  PurchasesStoreTransaction,\n  ShouldPurchasePromoProductListener,\n} from '@revenuecat/purchases-typescript-internal-esm';\nimport {\n  REFUND_REQUEST_STATUS,\n  VERIFICATION_RESULT,\n} from '@revenuecat/purchases-typescript-internal-esm';\n\nimport type {\n  GetProductOptions,\n  GetPromotionalOfferOptions,\n  PurchaseDiscountedPackageOptions,\n  PurchaseDiscountedProductOptions,\n  PurchasePackageOptions,\n  PurchasesPlugin,\n  PurchaseStoreProductOptions,\n  PurchaseSubscriptionOptionOptions,\n  SyncObserverModeAmazonPurchaseOptions,\n} from './definitions';\n\nexport class PurchasesWeb extends WebPlugin implements PurchasesPlugin {\n  private shouldMockWebResults = false;\n  private webNotSupportedErrorMessage = 'Web not supported in this plugin.';\n\n  configure(_configuration: PurchasesConfiguration): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('configure');\n  }\n\n  setMockWebResults(options: { shouldMockWebResults: boolean }): Promise<void> {\n    this.shouldMockWebResults = options.shouldMockWebResults;\n    return Promise.resolve();\n  }\n\n  setFinishTransactions(_finishTransactions: {\n    finishTransactions: boolean;\n  }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setFinishTransactions');\n  }\n  setSimulatesAskToBuyInSandbox(_simulatesAskToBuyInSandbox: {\n    simulatesAskToBuyInSandbox: boolean;\n  }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled(\n      'setSimulatesAskToBuyInSandbox',\n    );\n  }\n  addCustomerInfoUpdateListener(\n    _customerInfoUpdateListener: CustomerInfoUpdateListener,\n  ): Promise<string> {\n    return this.mockReturningFunctionIfEnabled(\n      'addCustomerInfoUpdateListener',\n      'mock-callback-id',\n    );\n  }\n  removeCustomerInfoUpdateListener(\n    _listenerToRemove: string,\n  ): Promise<{ wasRemoved: boolean }> {\n    return this.mockReturningFunctionIfEnabled(\n      'removeCustomerInfoUpdateListener',\n      { wasRemoved: false },\n    );\n  }\n  addShouldPurchasePromoProductListener(\n    _shouldPurchasePromoProductListener: ShouldPurchasePromoProductListener,\n  ): Promise<string> {\n    return this.mockReturningFunctionIfEnabled(\n      'addShouldPurchasePromoProductListener',\n      'mock-callback-id',\n    );\n  }\n  removeShouldPurchasePromoProductListener(\n    _listenerToRemove: string,\n  ): Promise<{ wasRemoved: boolean }> {\n    return this.mockReturningFunctionIfEnabled(\n      'removeShouldPurchasePromoProductListener',\n      { wasRemoved: false },\n    );\n  }\n  getOfferings(): Promise<PurchasesOfferings> {\n    const mockOfferings: PurchasesOfferings = {\n      all: {},\n      current: null,\n    };\n    return this.mockReturningFunctionIfEnabled('getOfferings', mockOfferings);\n  }\n  getCurrentOfferingForPlacement(_options: {\n    placementIdentifier: string;\n  }): Promise<PurchasesOffering | null> {\n    const mockOffering: PurchasesOffering | null = null;\n    return this.mockReturningFunctionIfEnabled(\n      'getCurrentOfferingForPlacement',\n      mockOffering,\n    );\n  }\n  syncAttributesAndOfferingsIfNeeded(): Promise<PurchasesOfferings> {\n    const mockOfferings: PurchasesOfferings = {\n      all: {},\n      current: null,\n    };\n    return this.mockReturningFunctionIfEnabled(\n      'syncAttributesAndOfferingsIfNeeded',\n      mockOfferings,\n    );\n  }\n  getProducts(\n    _options: GetProductOptions,\n  ): Promise<{ products: PurchasesStoreProduct[] }> {\n    const mockProducts = { products: [] };\n    return this.mockReturningFunctionIfEnabled('getProducts', mockProducts);\n  }\n  purchaseStoreProduct(\n    _options: PurchaseStoreProductOptions,\n  ): Promise<MakePurchaseResult> {\n    const mockPurchaseResult: MakePurchaseResult = {\n      productIdentifier: _options.product.identifier,\n      customerInfo: this.mockEmptyCustomerInfo,\n      transaction: this.mockTransaction(_options.product.identifier),\n    };\n    return this.mockReturningFunctionIfEnabled(\n      'purchaseStoreProduct',\n      mockPurchaseResult,\n    );\n  }\n  purchaseDiscountedProduct(\n    _options: PurchaseDiscountedProductOptions,\n  ): Promise<MakePurchaseResult> {\n    const mockPurchaseResult: MakePurchaseResult = {\n      productIdentifier: _options.product.identifier,\n      customerInfo: this.mockEmptyCustomerInfo,\n      transaction: this.mockTransaction(_options.product.identifier),\n    };\n    return this.mockReturningFunctionIfEnabled(\n      'purchaseDiscountedProduct',\n      mockPurchaseResult,\n    );\n  }\n  purchasePackage(\n    _options: PurchasePackageOptions,\n  ): Promise<MakePurchaseResult> {\n    const mockPurchaseResult: MakePurchaseResult = {\n      productIdentifier: _options.aPackage.product.identifier,\n      customerInfo: this.mockEmptyCustomerInfo,\n      transaction: this.mockTransaction(_options.aPackage.product.identifier),\n    };\n    return this.mockReturningFunctionIfEnabled(\n      'purchasePackage',\n      mockPurchaseResult,\n    );\n  }\n  purchaseSubscriptionOption(\n    _options: PurchaseSubscriptionOptionOptions,\n  ): Promise<MakePurchaseResult> {\n    const mockPurchaseResult: MakePurchaseResult = {\n      productIdentifier: _options.subscriptionOption.productId,\n      customerInfo: this.mockEmptyCustomerInfo,\n      transaction: this.mockTransaction(_options.subscriptionOption.productId),\n    };\n    return this.mockReturningFunctionIfEnabled(\n      'purchaseSubscriptionOption',\n      mockPurchaseResult,\n    );\n  }\n  purchaseDiscountedPackage(\n    _options: PurchaseDiscountedPackageOptions,\n  ): Promise<MakePurchaseResult> {\n    const mockPurchaseResult: MakePurchaseResult = {\n      productIdentifier: _options.aPackage.product.identifier,\n      customerInfo: this.mockEmptyCustomerInfo,\n      transaction: this.mockTransaction(_options.aPackage.product.identifier),\n    };\n    return this.mockReturningFunctionIfEnabled(\n      'purchaseDiscountedPackage',\n      mockPurchaseResult,\n    );\n  }\n  restorePurchases(): Promise<{ customerInfo: CustomerInfo }> {\n    const mockResponse = { customerInfo: this.mockEmptyCustomerInfo };\n    return this.mockReturningFunctionIfEnabled(\n      'restorePurchases',\n      mockResponse,\n    );\n  }\n  getAppUserID(): Promise<{ appUserID: string }> {\n    return this.mockReturningFunctionIfEnabled('getAppUserID', {\n      appUserID: 'test-web-user-id',\n    });\n  }\n  logIn(_appUserID: { appUserID: string }): Promise<LogInResult> {\n    const mockLogInResult: LogInResult = {\n      customerInfo: this.mockEmptyCustomerInfo,\n      created: false,\n    };\n    return this.mockReturningFunctionIfEnabled('logIn', mockLogInResult);\n  }\n  logOut(): Promise<{ customerInfo: CustomerInfo }> {\n    const mockResponse = { customerInfo: this.mockEmptyCustomerInfo };\n    return this.mockReturningFunctionIfEnabled('logOut', mockResponse);\n  }\n  setLogLevel(_level: { level: LOG_LEVEL }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setLogLevel');\n  }\n  setLogHandler(_logHandler: LogHandler): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setLogHandler');\n  }\n  getCustomerInfo(): Promise<{ customerInfo: CustomerInfo }> {\n    const mockResponse = { customerInfo: this.mockEmptyCustomerInfo };\n    return this.mockReturningFunctionIfEnabled('getCustomerInfo', mockResponse);\n  }\n  syncPurchases(): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('syncPurchases');\n  }\n  syncObserverModeAmazonPurchase(\n    _options: SyncObserverModeAmazonPurchaseOptions,\n  ): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled(\n      'syncObserverModeAmazonPurchase',\n    );\n  }\n  enableAdServicesAttributionTokenCollection(): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled(\n      'enableAdServicesAttributionTokenCollection',\n    );\n  }\n  isAnonymous(): Promise<{ isAnonymous: boolean }> {\n    const mockResponse = { isAnonymous: false };\n    return this.mockReturningFunctionIfEnabled('isAnonymous', mockResponse);\n  }\n  checkTrialOrIntroductoryPriceEligibility(_productIdentifiers: {\n    productIdentifiers: string[];\n  }): Promise<{ [productId: string]: IntroEligibility }> {\n    return this.mockReturningFunctionIfEnabled(\n      'checkTrialOrIntroductoryPriceEligibility',\n      {},\n    );\n  }\n  getPromotionalOffer(\n    _options: GetPromotionalOfferOptions,\n  ): Promise<PurchasesPromotionalOffer | undefined> {\n    return this.mockReturningFunctionIfEnabled(\n      'getPromotionalOffer',\n      undefined,\n    );\n  }\n  invalidateCustomerInfoCache(): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled(\n      'invalidateCustomerInfoCache',\n    );\n  }\n  presentCodeRedemptionSheet(): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('presentCodeRedemptionSheet');\n  }\n  setAttributes(_attributes: { [key: string]: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setAttributes');\n  }\n  setEmail(_email: { email: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setEmail');\n  }\n  setPhoneNumber(_phoneNumber: { phoneNumber: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setPhoneNumber');\n  }\n  setDisplayName(_displayName: { displayName: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setDisplayName');\n  }\n  setPushToken(_pushToken: { pushToken: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setPushToken');\n  }\n  setProxyURL(_url: { url: string }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setProxyURL');\n  }\n  collectDeviceIdentifiers(): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('collectDeviceIdentifiers');\n  }\n  setAdjustID(_adjustID: { adjustID: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setAdjustID');\n  }\n  setAppsflyerID(_appsflyerID: { appsflyerID: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setAppsflyerID');\n  }\n  setFBAnonymousID(_fbAnonymousID: {\n    fbAnonymousID: string | null;\n  }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setFBAnonymousID');\n  }\n  setMparticleID(_mparticleID: { mparticleID: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setMparticleID');\n  }\n  setCleverTapID(_cleverTapID: { cleverTapID: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setCleverTapID');\n  }\n  setMixpanelDistinctID(_mixpanelDistinctID: {\n    mixpanelDistinctID: string | null;\n  }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setMixpanelDistinctID');\n  }\n  setFirebaseAppInstanceID(_firebaseAppInstanceID: {\n    firebaseAppInstanceID: string | null;\n  }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setFirebaseAppInstanceID');\n  }\n  setOnesignalID(_onesignalID: { onesignalID: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setOnesignalID');\n  }\n  setOnesignalUserID(_onesignalUserID: {\n    onesignalUserID: string | null;\n  }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setOnesignalUserID');\n  }\n  setAirshipChannelID(_airshipChannelID: {\n    airshipChannelID: string | null;\n  }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setAirshipChannelID');\n  }\n  setMediaSource(_mediaSource: { mediaSource: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setMediaSource');\n  }\n  setCampaign(_campaign: { campaign: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setCampaign');\n  }\n  setAdGroup(_adGroup: { adGroup: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setAdGroup');\n  }\n  setAd(_ad: { ad: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setAd');\n  }\n  setKeyword(_keyword: { keyword: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setKeyword');\n  }\n  setCreative(_creative: { creative: string | null }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('setCreative');\n  }\n  canMakePayments(_features?: {\n    features?: BILLING_FEATURE[];\n  }): Promise<{ canMakePayments: boolean }> {\n    return this.mockReturningFunctionIfEnabled('canMakePayments', {\n      canMakePayments: true,\n    });\n  }\n  beginRefundRequestForActiveEntitlement(): Promise<{\n    refundRequestStatus: REFUND_REQUEST_STATUS;\n  }> {\n    const mockResult = {\n      refundRequestStatus: REFUND_REQUEST_STATUS.USER_CANCELLED,\n    };\n    return this.mockReturningFunctionIfEnabled(\n      'beginRefundRequestForActiveEntitlement',\n      mockResult,\n    );\n  }\n  beginRefundRequestForEntitlement(_entitlementInfo: {\n    entitlementInfo: PurchasesEntitlementInfo;\n  }): Promise<{ refundRequestStatus: REFUND_REQUEST_STATUS }> {\n    const mockResult = {\n      refundRequestStatus: REFUND_REQUEST_STATUS.USER_CANCELLED,\n    };\n    return this.mockReturningFunctionIfEnabled(\n      'beginRefundRequestForEntitlement',\n      mockResult,\n    );\n  }\n  beginRefundRequestForProduct(_storeProduct: {\n    storeProduct: PurchasesStoreProduct;\n  }): Promise<{ refundRequestStatus: REFUND_REQUEST_STATUS }> {\n    const mockResult = {\n      refundRequestStatus: REFUND_REQUEST_STATUS.USER_CANCELLED,\n    };\n    return this.mockReturningFunctionIfEnabled(\n      'beginRefundRequestForProduct',\n      mockResult,\n    );\n  }\n\n  showInAppMessages(_options?: {\n    messageTypes?: IN_APP_MESSAGE_TYPE[];\n  }): Promise<void> {\n    return this.mockNonReturningFunctionIfEnabled('showInAppMessages');\n  }\n\n  isConfigured(): Promise<{ isConfigured: boolean }> {\n    const mockResult = { isConfigured: true };\n    return this.mockReturningFunctionIfEnabled('isConfigured', mockResult);\n  }\n\n  // Mock helpers\n\n  private mockEmptyCustomerInfo: CustomerInfo = {\n    entitlements: {\n      all: {},\n      active: {},\n      verification: VERIFICATION_RESULT.NOT_REQUESTED,\n    },\n    activeSubscriptions: [],\n    allPurchasedProductIdentifiers: [],\n    latestExpirationDate: null,\n    firstSeen: '2023-08-31T15:11:21.445Z',\n    originalAppUserId: 'mock-web-user-id',\n    requestDate: '2023-08-31T15:11:21.445Z',\n    allExpirationDates: {},\n    allPurchaseDates: {},\n    originalApplicationVersion: null,\n    originalPurchaseDate: null,\n    managementURL: null,\n    nonSubscriptionTransactions: [],\n  };\n\n  private mockTransaction(\n    productIdentifier: string,\n  ): PurchasesStoreTransaction {\n    return {\n      productIdentifier: productIdentifier,\n      purchaseDate: new Date().toISOString(),\n      transactionIdentifier: '',\n    };\n  }\n\n  private mockNonReturningFunctionIfEnabled(\n    functionName: string,\n  ): Promise<void> {\n    if (!this.shouldMockWebResults) {\n      return Promise.reject(this.webNotSupportedErrorMessage);\n    }\n    console.log(`${functionName} called on web with mocking enabled. No-op`);\n    return Promise.resolve();\n  }\n\n  private mockReturningFunctionIfEnabled<T>(\n    functionName: string,\n    returnValue: T,\n  ): Promise<T> {\n    if (!this.shouldMockWebResults) {\n      return Promise.reject(this.webNotSupportedErrorMessage);\n    }\n    console.log(\n      `${functionName} called on web with mocking enabled. Returning mocked value`,\n    );\n    return Promise.resolve(returnValue);\n  }\n}\n"]}